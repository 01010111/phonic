!function(t){"use strict";t.Main=t.Main||{};function e(){}e.__name__=!0,e.substr=function(t,n,e){if(null==e)e=t.length;else if(e<0){if(0!=n)return"";e=t.length+e}return t.substr(n,e)},e.remove=function(t,n){var e=t.indexOf(n);return-1!=e&&(t.splice(e,1),!0)},e.now=function(){return Date.now()};function o(){}o.__name__=!0,o.main=function(){},o.init=t.Main.init=function(t){null!=t&&o.process_config(JSON.parse(t)),null!=window.localStorage.getItem("last")&&(o.last=i.parseInt(window.localStorage.getItem("last"))),o.tracklist_div=window.document.getElementById("tracklist"),g.fetch("audio.json",o.process_json),l.update(0),c.init()},o.process_config=function(t){null!=t.default_pomo_time&&(o.timer_default=t.default_pomo_time),null!=t.tracklist&&(o.tracklist=t.tracklist)},o.process_json=function(t){for(var n=0,e=0,r=o.data=null==o.tracklist?JSON.parse(t):o.tracklist;e<r.length;){var u=r[e];++e,o.tracklist_div.appendChild(o.get_sound(u.src,u.title,u.icon,n++))}o.load()},o.load=function(){_.init(o.timer_default);var t=window.localStorage.getItem("info_state"),n=window.localStorage.getItem("active");null==t&&c.show(),"true"==n&&(o.play_last(),_.check_persistence())},o.get_sound=function(t,n,e,r){var u=window.document.createElement("div"),g=o.get_audio_element(t);return u.appendChild(g),u.classList.add("audio"),u.innerHTML='<i class="'+e+'"></i><p>'+n+"</p>",u.onclick=function(){g.paused?(o.stop(),o.play(g,u)):o.stop();var t='url("images/bg'+r%4;return window.document.body.style.backgroundImage=t+'.png")'},o.audio_divs.push(u),u},o.get_audio_element=function(t){var n=window.document.createElement("audio");return n.src=t,n.loop=!0,o.audio.push(n),n},o.play=function(t,n){t.currentTime=0,n.classList.add("playing"),o.active_audio=t,o.active_audio_div=n,t.onpause=function(){window.localStorage.setItem("active","false")};var e=o.audio.indexOf(t);o.last=e,window.localStorage.setItem("last",""+e),window.localStorage.setItem("active","true"),t.play().catch(function(t){r.trace(t,{fileName:"src/Main.hx",lineNumber:96,className:"Main",methodName:"play"}),window.parent.addEventListener("click",o.play_on_click)})},o.play_on_click=function(){o.active_audio.play(),window.parent.removeEventListener("click",o.play_on_click)},o.play_last=function(){o.stop(),o.play(o.audio[o.last],o.audio_divs[o.last])},o.stop=function(){null!=o.active_audio&&o.active_audio.pause(),null!=o.active_audio_div&&o.active_audio_div.classList.remove("playing"),o.active_audio=null,o.active_audio_div=null},Math.__name__=!0;var i=function(){};i.__name__=!0,i.string=function(t){return a.__string_rec(t,"")},i.parseInt=function(t){if(null!=t)for(var n=0,e=t.length;n<e;){var r=n++,u=t.charCodeAt(r);if(u<=8||14<=u&&32!=u&&45!=u){var g=t.charCodeAt(1+r),o=parseInt(t,120==g||88==g?16:10);return isNaN(o)?null:o}}return null};function n(){}n.__name__=!0,n.hex=function(t,n){for(var e="";e="0123456789ABCDEF".charAt(15&t)+e,0<(t>>>=4););if(null!=n)for(;e.length<n;)e="0"+e;return e};var r=function(){};r.__name__=!0,r.formatOutput=function(t,n){var e=i.string(t);if(null==n)return e;var r=n.fileName+":"+n.lineNumber;if(null!=n.customParams)for(var u=0,g=n.customParams;u<g.length;)e+=", "+i.string(g[u++]);return r+": "+e},r.trace=function(t,n){var e=r.formatOutput(t,n);"undefined"!=typeof console&&null!=console.log&&console.log(e)};function u(){this.h=Object.create(null)}u.__name__=!0,u.keysIterator=function(t){var n=Object.keys(t),e=n.length,r=0;return{hasNext:function(){return r<e},next:function(){return n[(r+=1)-1]}}};var a=function(){};a.__name__=!0,a.__string_rec=function(t,n){if(null==t)return"null";if(5<=n.length)return"<...>";var e,r=typeof t;switch("function"==r&&(t.__name__||t.__ename__)&&(r="object"),r){case"function":return"<function>";case"object":if(t instanceof Array){var u="[";n+="\t";for(var g=0,o=t.length;g<o;){var i=g++;u+=(0<i?",":"")+a.__string_rec(t[i],n)}return u+="]"}try{e=t.toString}catch(g){return"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e){var c=t.toString();if("[object Object]"!=c)return c}u="{\n";n+="\t";var _=null!=t.hasOwnProperty,f=null;for(f in t)_&&!t.hasOwnProperty(f)||"prototype"!=f&&"__class__"!=f&&"__super__"!=f&&"__interfaces__"!=f&&"__properties__"!=f&&(2!=u.length&&(u+=", \n"),u+=n+f+" : "+a.__string_rec(t[f],n));return u+="\n"+(n=n.substring(1))+"}";case"string":return t;default:return String(t)}};var g=function(){};g.__name__=!0,g.fetch=function(t,n){var e=new XMLHttpRequest;e.open("GET",t,!0),e.onload=function(t){n(e.response)},e.onerror=function(t){r.trace(t,{fileName:"src/util/HrefTools.hx",lineNumber:10,className:"util.HrefTools",methodName:"fetch"})},e.send()};var c=function(){};c.__name__=!0,c.init=function(){c.info_box=window.document.getElementById("info"),c.close_btn=window.document.getElementById("info-close"),c.close_btn.onclick=c.hide},c.show=function(){c.info_box.classList.remove("hidden")},c.hide=function(){c.info_box.classList.add("hidden"),window.localStorage.setItem("info_state","hidden")};var _=function(){};_.__name__=!0,_.init=function(t){_.timer_text=window.document.getElementById("timer"),_.timer_text.onfocus=function(t){_.on_focus(t)},_.timer_text.onblur=function(t){_.on_blur(t)},_.timer_text.addEventListener("input",function(t){_.on_input(t)}),_.play_btn=window.document.getElementById("pomo-start"),_.play_btn.onclick=function(t){_.play_btn_click(t)},_.timer_icon=window.document.getElementById("pomo-icon"),_.timer_icon.onclick=function(t){var n=f.get_active();_.pause(),_.timer_text.value=_.last+":00",n?_.start():_.stop()},_.last=""+t,_.timer_text.value=_.last+":00"},_.check_persistence=function(){var t=window.localStorage.getItem("timer_active"),n=window.localStorage.getItem("timer_amt");"true"==t&&(_.timer_text.value=n,_.start())},_.on_focus=function(t){r.trace("focus",{fileName:"src/util/Pomodoro.hx",lineNumber:45,className:"util.Pomodoro",methodName:"on_focus",customParams:[t]}),_.pause(),f.cancel(),_.parse_input()},_.on_input=function(t){r.trace("input",{fileName:"src/util/Pomodoro.hx",lineNumber:52,className:"util.Pomodoro",methodName:"on_input",customParams:[t]}),_.parse_input()},_.parse_input=function(){var t=i.parseInt(_.timer_text.value);r.trace(t,{fileName:"src/util/Pomodoro.hx",lineNumber:58,className:"util.Pomodoro",methodName:"parse_input"}),null==t&&0==_.timer_text.value.length?_.last="0":_.last=""+Math.max(Math.min(t,720),0),_.timer_text.value=_.last},_.on_blur=function(t){r.trace("blur",{fileName:"src/util/Pomodoro.hx",lineNumber:65,className:"util.Pomodoro",methodName:"on_blur",customParams:[t]}),_.timer_text.value=_.last+":00"},_.play_btn_click=function(t){f.get_active()?_.pause():_.start()},_.start=function(){var t=_.timer_text.value.split(":")[0],n=_.timer_text.value.split(":")[1],e=0;null!=i.parseInt(t)&&(e=60*i.parseInt(t)),null!=i.parseInt(n)&&(e+=i.parseInt(n)),f.start(e,_.stop),_.play_btn.classList.add("active"),window.localStorage.setItem("timer_active","true"),o.play_last()},_.pause=function(){f.pause(),_.play_btn.classList.remove("active"),window.localStorage.setItem("timer_active","false"),o.stop()},_.stop=function(){f.cancel(),o.stop(),_.play_btn.classList.remove("active"),window.localStorage.setItem("timer_active","false")};var f=function(){};f.__name__=!0,f.get_active=function(){return!(null==f.timer||!f.timer.get_active())&&!f.timer.paused},f.start=function(t,n){z.unlisten(f.update,"update"),f.timer=w.get(t,function(){n()}),z.listen(f.update,"update")},f.pause=function(){null!=f.timer&&f.timer.pause()},f.resume=function(){null!=f.timer&&f.timer.unpause()},f.cancel=function(){null!=f.timer&&f.timer.cancel()},f.update=function(t){null!=f.timer&&f.timer.get_active()&&(_.timer_text.value=f.parse_remaining(),f.last!=Math.round(f.timer.get_remaining())&&window.localStorage.setItem("timer_amt",_.timer_text.value),f.last=Math.round(f.timer.get_remaining()))},f.parse_remaining=function(){if(null==f.timer)return"";var t=Math.round(f.timer.get_remaining()),n=Math.floor(t/60),e=t%60;return(n<10?"0"+n:""+n)+":"+(e<10?"0"+e:""+e)};var l=function(){};l.__name__=!0,l.update=function(t){var n=l.get_dt(l.get_time());w.update(n),z.dispatch("update",n),window.requestAnimationFrame(l.update)},l.get_time=function(){return(new Date).getTime()},l.get_dt=function(t){var n=(t-l.last)/1e3;return l.last=t,n};var y={zero:function(t){return Math.abs(t)<=y.epsilon?0:t},from_array_float:function(t){return y.get(t[0],t[1],t[2],t[3])},from_array_int:function(t){return y.get(t[0],t[1],t[2],t[3])},arr_set:function(t,n,e){n<0||3<n||(t[n]=e)},arr_get:function(t,n){return t[Math.floor(Math.max(Math.min(n,3),0))]},get:function(t,n,e,r){if(null==r&&(r=0),null==e&&(e=0),null==n&&(n=0),null==t&&(t=0),null!=y.pool&&0<y.pool.length){var u=y.pool.shift(),g=t,o=n,i=e,c=null==r?0:r;return null==e&&(i=0),null==n&&(o=0),null==t&&(g=0),u[0]=y.zero(g),u[1]=y.zero(o),u[2]=y.zero(i),u[3]=y.zero(c),u}return[g=null==t?0:t,o=null==n?0:n,i=null==e?0:e,c=null==r?0:r]},put:function(t){y.pool.push(t),t=null},_new:function(t,n,e,r){return null==r&&(r=0),null==e&&(e=0),null==n&&(n=0),null==t&&(t=0),[t,n,e,r]},set:function(t,n,e,r,u){return null==u&&(u=0),null==r&&(r=0),null==e&&(e=0),null==n&&(n=0),t[0]=y.zero(n),t[1]=y.zero(e),t[2]=y.zero(r),t[3]=y.zero(u),t},get_x:function(t){return t[0]},set_x:function(t,n){return t[0]=n},get_y:function(t){return t[1]},set_y:function(t,n){return t[1]=n},get_z:function(t){return t[2]},set_z:function(t,n){return t[2]=n},get_w:function(t){return t[3]},set_w:function(t,n){return t[3]=n},copy_from:function(t,n){var e=n[0],r=n[1],u=n[2],g=n[3];return null==g&&(g=0),null==u&&(u=0),null==r&&(r=0),null==e&&(e=0),t[0]=y.zero(e),t[1]=y.zero(r),t[2]=y.zero(u),t[3]=y.zero(g),t},scale:function(t,n){var e=t[0]*n,r=t[1]*n,u=t[2]*n,g=t[3]*n;return null==g&&(g=0),null==u&&(u=0),null==r&&(r=0),null==e&&(e=0),t[0]=y.zero(e),t[1]=y.zero(r),t[2]=y.zero(u),t[3]=y.zero(g),t},copy:function(t){return y.get(t[0],t[1],t[2],t[3])},equals:function(t,n){return t[0]==n[0]&&t[1]==n[1]&&t[2]==n[2]&&t[3]==n[3]},toString:function(t){return"x: "+t[0]+" | y: "+t[1]+" | z: "+t[2]+" | w: "+t[3]},add:function(t,n){return y.get(t[0]+n[0],t[1]+n[1],t[2]+n[2],t[3]+n[3])},add_f:function(t,n){return y.get(t[0]+n,t[1]+n,t[2]+n,t[3]+n)},subtract:function(t,n){return y.get(t[0]-n[0],t[1]-n[1],t[2]-n[2],t[3]-n[3])},subtract_f:function(t,n){return y.get(t[0]-n,t[1]-n,t[2]-n,t[3]-n)},multiply:function(t,n){return y.get(t[0]*n[0],t[1]*n[1],t[2]*n[2],t[3]*n[3])},multiply_f:function(t,n){return y.get(t[0]*n,t[1]*n,t[2]*n,t[3]*n)},divide:function(t,n){return y.get(t[0]/n[0],t[1]/n[1],t[2]/n[2],t[3]/n[3])},divide_f:function(t,n){return y.get(t[0]/n,t[1]/n,t[2]/n,t[3]/n)},mod:function(t,n){return y.get(t[0]%n[0],t[1]%n[1],t[2]%n[2],t[3]%n[3])},mod_f:function(t,n){return y.get(t[0]%n,t[1]%n,t[2]%n,t[3]%n)},get_xx:function(t){return b.get(t[0],t[0])},get_xy:function(t){return b.get(t[0],t[1])},get_xz:function(t){return b.get(t[0],t[2])},get_xw:function(t){return b.get(t[0],t[3])},get_yx:function(t){return b.get(t[1],t[0])},get_yy:function(t){return b.get(t[1],t[1])},get_yz:function(t){return b.get(t[1],t[2])},get_yw:function(t){return b.get(t[1],t[3])},get_zx:function(t){return b.get(t[2],t[0])},get_zy:function(t){return b.get(t[2],t[1])},get_zz:function(t){return b.get(t[2],t[2])},get_zw:function(t){return b.get(t[2],t[3])},get_wx:function(t){return b.get(t[3],t[0])},get_wy:function(t){return b.get(t[3],t[1])},get_wz:function(t){return b.get(t[3],t[2])},get_ww:function(t){return b.get(t[3],t[3])},get_xxx:function(t){return m.get(t[0],t[0],t[0])},get_xxy:function(t){return m.get(t[0],t[0],t[1])},get_xxz:function(t){return m.get(t[0],t[0],t[2])},get_xxw:function(t){return m.get(t[0],t[0],t[3])},get_xyx:function(t){return m.get(t[0],t[1],t[0])},get_xyy:function(t){return m.get(t[0],t[1],t[1])},get_xyz:function(t){return m.get(t[0],t[1],t[2])},get_xyw:function(t){return m.get(t[0],t[1],t[3])},get_xzx:function(t){return m.get(t[0],t[2],t[0])},get_xzy:function(t){return m.get(t[0],t[2],t[1])},get_xzz:function(t){return m.get(t[0],t[2],t[2])},get_xzw:function(t){return m.get(t[0],t[2],t[3])},get_xwx:function(t){return m.get(t[0],t[3],t[0])},get_xwy:function(t){return m.get(t[0],t[3],t[1])},get_xwz:function(t){return m.get(t[0],t[3],t[2])},get_xww:function(t){return m.get(t[0],t[3],t[3])},get_yxx:function(t){return m.get(t[1],t[0],t[0])},get_yxy:function(t){return m.get(t[1],t[0],t[1])},get_yxz:function(t){return m.get(t[1],t[0],t[2])},get_yxw:function(t){return m.get(t[1],t[0],t[3])},get_yyx:function(t){return m.get(t[1],t[1],t[0])},get_yyy:function(t){return m.get(t[1],t[1],t[1])},get_yyz:function(t){return m.get(t[1],t[1],t[2])},get_yyw:function(t){return m.get(t[1],t[1],t[3])},get_yzx:function(t){return m.get(t[1],t[2],t[0])},get_yzy:function(t){return m.get(t[1],t[2],t[1])},get_yzz:function(t){return m.get(t[1],t[2],t[2])},get_yzw:function(t){return m.get(t[1],t[2],t[3])},get_ywx:function(t){return m.get(t[1],t[3],t[0])},get_ywy:function(t){return m.get(t[1],t[3],t[1])},get_ywz:function(t){return m.get(t[1],t[3],t[2])},get_yww:function(t){return m.get(t[1],t[3],t[3])},get_zxx:function(t){return m.get(t[2],t[0],t[0])},get_zxy:function(t){return m.get(t[2],t[0],t[1])},get_zxz:function(t){return m.get(t[2],t[0],t[2])},get_zxw:function(t){return m.get(t[2],t[0],t[3])},get_zyx:function(t){return m.get(t[2],t[1],t[0])},get_zyy:function(t){return m.get(t[2],t[1],t[1])},get_zyz:function(t){return m.get(t[2],t[1],t[2])},get_zyw:function(t){return m.get(t[2],t[1],t[3])},get_zzx:function(t){return m.get(t[2],t[2],t[0])},get_zzy:function(t){return m.get(t[2],t[2],t[1])},get_zzz:function(t){return m.get(t[2],t[2],t[2])},get_zzw:function(t){return m.get(t[2],t[2],t[3])},get_zwx:function(t){return m.get(t[2],t[3],t[0])},get_zwy:function(t){return m.get(t[2],t[3],t[1])},get_zwz:function(t){return m.get(t[2],t[3],t[2])},get_zww:function(t){return m.get(t[2],t[3],t[3])},get_wxx:function(t){return m.get(t[3],t[0],t[0])},get_wxy:function(t){return m.get(t[3],t[0],t[1])},get_wxz:function(t){return m.get(t[3],t[0],t[2])},get_wxw:function(t){return m.get(t[3],t[0],t[3])},get_wyx:function(t){return m.get(t[3],t[1],t[0])},get_wyy:function(t){return m.get(t[3],t[1],t[1])},get_wyz:function(t){return m.get(t[3],t[1],t[2])},get_wyw:function(t){return m.get(t[3],t[1],t[3])},get_wzx:function(t){return m.get(t[3],t[2],t[0])},get_wzy:function(t){return m.get(t[3],t[2],t[1])},get_wzz:function(t){return m.get(t[3],t[2],t[2])},get_wzw:function(t){return m.get(t[3],t[2],t[3])},get_wwx:function(t){return m.get(t[3],t[3],t[0])},get_wwy:function(t){return m.get(t[3],t[3],t[1])},get_wwz:function(t){return m.get(t[3],t[3],t[2])},get_www:function(t){return m.get(t[3],t[3],t[3])},get_xxxx:function(t){return y.get(t[0],t[0],t[0],t[0])},get_xxxy:function(t){return y.get(t[0],t[0],t[0],t[1])},get_xxxz:function(t){return y.get(t[0],t[0],t[0],t[2])},get_xxxw:function(t){return y.get(t[0],t[0],t[0],t[3])},get_xxyx:function(t){return y.get(t[0],t[0],t[1],t[0])},get_xxyy:function(t){return y.get(t[0],t[0],t[1],t[1])},get_xxyz:function(t){return y.get(t[0],t[0],t[1],t[2])},get_xxyw:function(t){return y.get(t[0],t[0],t[1],t[3])},get_xxzx:function(t){return y.get(t[0],t[0],t[2],t[0])},get_xxzy:function(t){return y.get(t[0],t[0],t[2],t[1])},get_xxzz:function(t){return y.get(t[0],t[0],t[2],t[2])},get_xxzw:function(t){return y.get(t[0],t[0],t[2],t[3])},get_xxwx:function(t){return y.get(t[0],t[0],t[3],t[0])},get_xxwy:function(t){return y.get(t[0],t[0],t[3],t[1])},get_xxwz:function(t){return y.get(t[0],t[0],t[3],t[2])},get_xxww:function(t){return y.get(t[0],t[0],t[3],t[3])},get_xyxx:function(t){return y.get(t[0],t[1],t[0],t[0])},get_xyxy:function(t){return y.get(t[0],t[1],t[0],t[1])},get_xyxz:function(t){return y.get(t[0],t[1],t[0],t[2])},get_xyxw:function(t){return y.get(t[0],t[1],t[0],t[3])},get_xyyx:function(t){return y.get(t[0],t[1],t[1],t[0])},get_xyyy:function(t){return y.get(t[0],t[1],t[1],t[1])},get_xyyz:function(t){return y.get(t[0],t[1],t[1],t[2])},get_xyyw:function(t){return y.get(t[0],t[1],t[1],t[3])},get_xyzx:function(t){return y.get(t[0],t[1],t[2],t[0])},get_xyzy:function(t){return y.get(t[0],t[1],t[2],t[1])},get_xyzz:function(t){return y.get(t[0],t[1],t[2],t[2])},get_xyzw:function(t){return y.get(t[0],t[1],t[2],t[3])},get_xywx:function(t){return y.get(t[0],t[1],t[3],t[0])},get_xywy:function(t){return y.get(t[0],t[1],t[3],t[1])},get_xywz:function(t){return y.get(t[0],t[1],t[3],t[2])},get_xyww:function(t){return y.get(t[0],t[1],t[3],t[3])},get_xzxx:function(t){return y.get(t[0],t[2],t[0],t[0])},get_xzxy:function(t){return y.get(t[0],t[2],t[0],t[1])},get_xzxz:function(t){return y.get(t[0],t[2],t[0],t[2])},get_xzxw:function(t){return y.get(t[0],t[2],t[0],t[3])},get_xzyx:function(t){return y.get(t[0],t[2],t[1],t[0])},get_xzyy:function(t){return y.get(t[0],t[2],t[1],t[1])},get_xzyz:function(t){return y.get(t[0],t[2],t[1],t[2])},get_xzyw:function(t){return y.get(t[0],t[2],t[1],t[3])},get_xzzx:function(t){return y.get(t[0],t[2],t[2],t[0])},get_xzzy:function(t){return y.get(t[0],t[2],t[2],t[1])},get_xzzz:function(t){return y.get(t[0],t[2],t[2],t[2])},get_xzzw:function(t){return y.get(t[0],t[2],t[2],t[3])},get_xzwx:function(t){return y.get(t[0],t[2],t[3],t[0])},get_xzwy:function(t){return y.get(t[0],t[2],t[3],t[1])},get_xzwz:function(t){return y.get(t[0],t[2],t[3],t[2])},get_xzww:function(t){return y.get(t[0],t[2],t[3],t[3])},get_xwxx:function(t){return y.get(t[0],t[3],t[0],t[0])},get_xwxy:function(t){return y.get(t[0],t[3],t[0],t[1])},get_xwxz:function(t){return y.get(t[0],t[3],t[0],t[2])},get_xwxw:function(t){return y.get(t[0],t[3],t[0],t[3])},get_xwyx:function(t){return y.get(t[0],t[3],t[1],t[0])},get_xwyy:function(t){return y.get(t[0],t[3],t[1],t[1])},get_xwyz:function(t){return y.get(t[0],t[3],t[1],t[2])},get_xwyw:function(t){return y.get(t[0],t[3],t[1],t[3])},get_xwzx:function(t){return y.get(t[0],t[3],t[2],t[0])},get_xwzy:function(t){return y.get(t[0],t[3],t[2],t[1])},get_xwzz:function(t){return y.get(t[0],t[3],t[2],t[2])},get_xwzw:function(t){return y.get(t[0],t[3],t[2],t[3])},get_xwwx:function(t){return y.get(t[0],t[3],t[3],t[0])},get_xwwy:function(t){return y.get(t[0],t[3],t[3],t[1])},get_xwwz:function(t){return y.get(t[0],t[3],t[3],t[2])},get_xwww:function(t){return y.get(t[0],t[3],t[3],t[3])},get_yxxx:function(t){return y.get(t[1],t[0],t[0],t[0])},get_yxxy:function(t){return y.get(t[1],t[0],t[0],t[1])},get_yxxz:function(t){return y.get(t[1],t[0],t[0],t[2])},get_yxxw:function(t){return y.get(t[1],t[0],t[0],t[3])},get_yxyx:function(t){return y.get(t[1],t[0],t[1],t[0])},get_yxyy:function(t){return y.get(t[1],t[0],t[1],t[1])},get_yxyz:function(t){return y.get(t[1],t[0],t[1],t[2])},get_yxyw:function(t){return y.get(t[1],t[0],t[1],t[3])},get_yxzx:function(t){return y.get(t[1],t[0],t[2],t[0])},get_yxzy:function(t){return y.get(t[1],t[0],t[2],t[1])},get_yxzz:function(t){return y.get(t[1],t[0],t[2],t[2])},get_yxzw:function(t){return y.get(t[1],t[0],t[2],t[3])},get_yxwx:function(t){return y.get(t[1],t[0],t[3],t[0])},get_yxwy:function(t){return y.get(t[1],t[0],t[3],t[1])},get_yxwz:function(t){return y.get(t[1],t[0],t[3],t[2])},get_yxww:function(t){return y.get(t[1],t[0],t[3],t[3])},get_yyxx:function(t){return y.get(t[1],t[1],t[0],t[0])},get_yyxy:function(t){return y.get(t[1],t[1],t[0],t[1])},get_yyxz:function(t){return y.get(t[1],t[1],t[0],t[2])},get_yyxw:function(t){return y.get(t[1],t[1],t[0],t[3])},get_yyyx:function(t){return y.get(t[1],t[1],t[1],t[0])},get_yyyy:function(t){return y.get(t[1],t[1],t[1],t[1])},get_yyyz:function(t){return y.get(t[1],t[1],t[1],t[2])},get_yyyw:function(t){return y.get(t[1],t[1],t[1],t[3])},get_yyzx:function(t){return y.get(t[1],t[1],t[2],t[0])},get_yyzy:function(t){return y.get(t[1],t[1],t[2],t[1])},get_yyzz:function(t){return y.get(t[1],t[1],t[2],t[2])},get_yyzw:function(t){return y.get(t[1],t[1],t[2],t[3])},get_yywx:function(t){return y.get(t[1],t[1],t[3],t[0])},get_yywy:function(t){return y.get(t[1],t[1],t[3],t[1])},get_yywz:function(t){return y.get(t[1],t[1],t[3],t[2])},get_yyww:function(t){return y.get(t[1],t[1],t[3],t[3])},get_yzxx:function(t){return y.get(t[1],t[2],t[0],t[0])},get_yzxy:function(t){return y.get(t[1],t[2],t[0],t[1])},get_yzxz:function(t){return y.get(t[1],t[2],t[0],t[2])},get_yzxw:function(t){return y.get(t[1],t[2],t[0],t[3])},get_yzyx:function(t){return y.get(t[1],t[2],t[1],t[0])},get_yzyy:function(t){return y.get(t[1],t[2],t[1],t[1])},get_yzyz:function(t){return y.get(t[1],t[2],t[1],t[2])},get_yzyw:function(t){return y.get(t[1],t[2],t[1],t[3])},get_yzzx:function(t){return y.get(t[1],t[2],t[2],t[0])},get_yzzy:function(t){return y.get(t[1],t[2],t[2],t[1])},get_yzzz:function(t){return y.get(t[1],t[2],t[2],t[2])},get_yzzw:function(t){return y.get(t[1],t[2],t[2],t[3])},get_yzwx:function(t){return y.get(t[1],t[2],t[3],t[0])},get_yzwy:function(t){return y.get(t[1],t[2],t[3],t[1])},get_yzwz:function(t){return y.get(t[1],t[2],t[3],t[2])},get_yzww:function(t){return y.get(t[1],t[2],t[3],t[3])},get_ywxx:function(t){return y.get(t[1],t[3],t[0],t[0])},get_ywxy:function(t){return y.get(t[1],t[3],t[0],t[1])},get_ywxz:function(t){return y.get(t[1],t[3],t[0],t[2])},get_ywxw:function(t){return y.get(t[1],t[3],t[0],t[3])},get_ywyx:function(t){return y.get(t[1],t[3],t[1],t[0])},get_ywyy:function(t){return y.get(t[1],t[3],t[1],t[1])},get_ywyz:function(t){return y.get(t[1],t[3],t[1],t[2])},get_ywyw:function(t){return y.get(t[1],t[3],t[1],t[3])},get_ywzx:function(t){return y.get(t[1],t[3],t[2],t[0])},get_ywzy:function(t){return y.get(t[1],t[3],t[2],t[1])},get_ywzz:function(t){return y.get(t[1],t[3],t[2],t[2])},get_ywzw:function(t){return y.get(t[1],t[3],t[2],t[3])},get_ywwx:function(t){return y.get(t[1],t[3],t[3],t[0])},get_ywwy:function(t){return y.get(t[1],t[3],t[3],t[1])},get_ywwz:function(t){return y.get(t[1],t[3],t[3],t[2])},get_ywww:function(t){return y.get(t[1],t[3],t[3],t[3])},get_zxxx:function(t){return y.get(t[2],t[0],t[0],t[0])},get_zxxy:function(t){return y.get(t[2],t[0],t[0],t[1])},get_zxxz:function(t){return y.get(t[2],t[0],t[0],t[2])},get_zxxw:function(t){return y.get(t[2],t[0],t[0],t[3])},get_zxyx:function(t){return y.get(t[2],t[0],t[1],t[0])},get_zxyy:function(t){return y.get(t[2],t[0],t[1],t[1])},get_zxyz:function(t){return y.get(t[2],t[0],t[1],t[2])},get_zxyw:function(t){return y.get(t[2],t[0],t[1],t[3])},get_zxzx:function(t){return y.get(t[2],t[0],t[2],t[0])},get_zxzy:function(t){return y.get(t[2],t[0],t[2],t[1])},get_zxzz:function(t){return y.get(t[2],t[0],t[2],t[2])},get_zxzw:function(t){return y.get(t[2],t[0],t[2],t[3])},get_zxwx:function(t){return y.get(t[2],t[0],t[3],t[0])},get_zxwy:function(t){return y.get(t[2],t[0],t[3],t[1])},get_zxwz:function(t){return y.get(t[2],t[0],t[3],t[2])},get_zxww:function(t){return y.get(t[2],t[0],t[3],t[3])},get_zyxx:function(t){return y.get(t[2],t[1],t[0],t[0])},get_zyxy:function(t){return y.get(t[2],t[1],t[0],t[1])},get_zyxz:function(t){return y.get(t[2],t[1],t[0],t[2])},get_zyxw:function(t){return y.get(t[2],t[1],t[0],t[3])},get_zyyx:function(t){return y.get(t[2],t[1],t[1],t[0])},get_zyyy:function(t){return y.get(t[2],t[1],t[1],t[1])},get_zyyz:function(t){return y.get(t[2],t[1],t[1],t[2])},get_zyyw:function(t){return y.get(t[2],t[1],t[1],t[3])},get_zyzx:function(t){return y.get(t[2],t[1],t[2],t[0])},get_zyzy:function(t){return y.get(t[2],t[1],t[2],t[1])},get_zyzz:function(t){return y.get(t[2],t[1],t[2],t[2])},get_zyzw:function(t){return y.get(t[2],t[1],t[2],t[3])},get_zywx:function(t){return y.get(t[2],t[1],t[3],t[0])},get_zywy:function(t){return y.get(t[2],t[1],t[3],t[1])},get_zywz:function(t){return y.get(t[2],t[1],t[3],t[2])},get_zyww:function(t){return y.get(t[2],t[1],t[3],t[3])},get_zzxx:function(t){return y.get(t[2],t[2],t[0],t[0])},get_zzxy:function(t){return y.get(t[2],t[2],t[0],t[1])},get_zzxz:function(t){return y.get(t[2],t[2],t[0],t[2])},get_zzxw:function(t){return y.get(t[2],t[2],t[0],t[3])},get_zzyx:function(t){return y.get(t[2],t[2],t[1],t[0])},get_zzyy:function(t){return y.get(t[2],t[2],t[1],t[1])},get_zzyz:function(t){return y.get(t[2],t[2],t[1],t[2])},get_zzyw:function(t){return y.get(t[2],t[2],t[1],t[3])},get_zzzx:function(t){return y.get(t[2],t[2],t[2],t[0])},get_zzzy:function(t){return y.get(t[2],t[2],t[2],t[1])},get_zzzz:function(t){return y.get(t[2],t[2],t[2],t[2])},get_zzzw:function(t){return y.get(t[2],t[2],t[2],t[3])},get_zzwx:function(t){return y.get(t[2],t[2],t[3],t[0])},get_zzwy:function(t){return y.get(t[2],t[2],t[3],t[1])},get_zzwz:function(t){return y.get(t[2],t[2],t[3],t[2])},get_zzww:function(t){return y.get(t[2],t[2],t[3],t[3])},get_zwxx:function(t){return y.get(t[2],t[3],t[0],t[0])},get_zwxy:function(t){return y.get(t[2],t[3],t[0],t[1])},get_zwxz:function(t){return y.get(t[2],t[3],t[0],t[2])},get_zwxw:function(t){return y.get(t[2],t[3],t[0],t[3])},get_zwyx:function(t){return y.get(t[2],t[3],t[1],t[0])},get_zwyy:function(t){return y.get(t[2],t[3],t[1],t[1])},get_zwyz:function(t){return y.get(t[2],t[3],t[1],t[2])},get_zwyw:function(t){return y.get(t[2],t[3],t[1],t[3])},get_zwzx:function(t){return y.get(t[2],t[3],t[2],t[0])},get_zwzy:function(t){return y.get(t[2],t[3],t[2],t[1])},get_zwzz:function(t){return y.get(t[2],t[3],t[2],t[2])},get_zwzw:function(t){return y.get(t[2],t[3],t[2],t[3])},get_zwwx:function(t){return y.get(t[2],t[3],t[3],t[0])},get_zwwy:function(t){return y.get(t[2],t[3],t[3],t[1])},get_zwwz:function(t){return y.get(t[2],t[3],t[3],t[2])},get_zwww:function(t){return y.get(t[2],t[3],t[3],t[3])},get_wxxx:function(t){return y.get(t[3],t[0],t[0],t[0])},get_wxxy:function(t){return y.get(t[3],t[0],t[0],t[1])},get_wxxz:function(t){return y.get(t[3],t[0],t[0],t[2])},get_wxxw:function(t){return y.get(t[3],t[0],t[0],t[3])},get_wxyx:function(t){return y.get(t[3],t[0],t[1],t[0])},get_wxyy:function(t){return y.get(t[3],t[0],t[1],t[1])},get_wxyz:function(t){return y.get(t[3],t[0],t[1],t[2])},get_wxyw:function(t){return y.get(t[3],t[0],t[1],t[3])},get_wxzx:function(t){return y.get(t[3],t[0],t[2],t[0])},get_wxzy:function(t){return y.get(t[3],t[0],t[2],t[1])},get_wxzz:function(t){return y.get(t[3],t[0],t[2],t[2])},get_wxzw:function(t){return y.get(t[3],t[0],t[2],t[3])},get_wxwx:function(t){return y.get(t[3],t[0],t[3],t[0])},get_wxwy:function(t){return y.get(t[3],t[0],t[3],t[1])},get_wxwz:function(t){return y.get(t[3],t[0],t[3],t[2])},get_wxww:function(t){return y.get(t[3],t[0],t[3],t[3])},get_wyxx:function(t){return y.get(t[3],t[1],t[0],t[0])},get_wyxy:function(t){return y.get(t[3],t[1],t[0],t[1])},get_wyxz:function(t){return y.get(t[3],t[1],t[0],t[2])},get_wyxw:function(t){return y.get(t[3],t[1],t[0],t[3])},get_wyyx:function(t){return y.get(t[3],t[1],t[1],t[0])},get_wyyy:function(t){return y.get(t[3],t[1],t[1],t[1])},get_wyyz:function(t){return y.get(t[3],t[1],t[1],t[2])},get_wyyw:function(t){return y.get(t[3],t[1],t[1],t[3])},get_wyzx:function(t){return y.get(t[3],t[1],t[2],t[0])},get_wyzy:function(t){return y.get(t[3],t[1],t[2],t[1])},get_wyzz:function(t){return y.get(t[3],t[1],t[2],t[2])},get_wyzw:function(t){return y.get(t[3],t[1],t[2],t[3])},get_wywx:function(t){return y.get(t[3],t[1],t[3],t[0])},get_wywy:function(t){return y.get(t[3],t[1],t[3],t[1])},get_wywz:function(t){return y.get(t[3],t[1],t[3],t[2])},get_wyww:function(t){return y.get(t[3],t[1],t[3],t[3])},get_wzxx:function(t){return y.get(t[3],t[2],t[0],t[0])},get_wzxy:function(t){return y.get(t[3],t[2],t[0],t[1])},get_wzxz:function(t){return y.get(t[3],t[2],t[0],t[2])},get_wzxw:function(t){return y.get(t[3],t[2],t[0],t[3])},get_wzyx:function(t){return y.get(t[3],t[2],t[1],t[0])},get_wzyy:function(t){return y.get(t[3],t[2],t[1],t[1])},get_wzyz:function(t){return y.get(t[3],t[2],t[1],t[2])},get_wzyw:function(t){return y.get(t[3],t[2],t[1],t[3])},get_wzzx:function(t){return y.get(t[3],t[2],t[2],t[0])},get_wzzy:function(t){return y.get(t[3],t[2],t[2],t[1])},get_wzzz:function(t){return y.get(t[3],t[2],t[2],t[2])},get_wzzw:function(t){return y.get(t[3],t[2],t[2],t[3])},get_wzwx:function(t){return y.get(t[3],t[2],t[3],t[0])},get_wzwy:function(t){return y.get(t[3],t[2],t[3],t[1])},get_wzwz:function(t){return y.get(t[3],t[2],t[3],t[2])},get_wzww:function(t){return y.get(t[3],t[2],t[3],t[3])},get_wwxx:function(t){return y.get(t[3],t[3],t[0],t[0])},get_wwxy:function(t){return y.get(t[3],t[3],t[0],t[1])},get_wwxz:function(t){return y.get(t[3],t[3],t[0],t[2])},get_wwxw:function(t){return y.get(t[3],t[3],t[0],t[3])},get_wwyx:function(t){return y.get(t[3],t[3],t[1],t[0])},get_wwyy:function(t){return y.get(t[3],t[3],t[1],t[1])},get_wwyz:function(t){return y.get(t[3],t[3],t[1],t[2])},get_wwyw:function(t){return y.get(t[3],t[3],t[1],t[3])},get_wwzx:function(t){return y.get(t[3],t[3],t[2],t[0])},get_wwzy:function(t){return y.get(t[3],t[3],t[2],t[1])},get_wwzz:function(t){return y.get(t[3],t[3],t[2],t[2])},get_wwzw:function(t){return y.get(t[3],t[3],t[2],t[3])},get_wwwx:function(t){return y.get(t[3],t[3],t[3],t[0])},get_wwwy:function(t){return y.get(t[3],t[3],t[3],t[1])},get_wwwz:function(t){return y.get(t[3],t[3],t[3],t[2])},get_wwww:function(t){return y.get(t[3],t[3],t[3],t[3])}},x={zero:function(t){return Math.abs(t)<=x.epsilon?0:t},get:function(t,n,e,r){if(null==r&&(r=1),null==e&&(e=0),null==n&&(n=0),null==t&&(t=0),null!=x.pool&&0<x.pool.length){var u=x.pool.shift(),g=t,o=n,i=e,c=null==r?0:r;return null==e&&(i=0),null==n&&(o=0),null==t&&(g=0),y.arr_set(u,0,x.zero(g)),y.arr_set(u,1,x.zero(o)),y.arr_set(u,2,x.zero(i)),y.arr_set(u,3,x.zero(c)),u}g=t,o=n,i=e,c=null==r?0:r;return null==e&&(i=0),null==n&&(o=0),null==t&&(g=0),y.from_array_float([g,o,i,c])},put:function(t){x.pool.push(t),t=null},from_array_float:function(t){return x.get(t[0],t[1],t[2],t[3])},from_array_int:function(t){return x.get(t[0],t[1],t[2],t[3])},arr_set:function(t,n,e){n<0||3<n||y.arr_set(t,n,e)},arr_get:function(t,n){return y.arr_get(t,Math.floor(Math.max(Math.min(n,3),0)))},get_red:function(t){return t[0]},set_red:function(t,n){return t[0]=Math.min(Math.max(n,0),1)},get_green:function(t){return t[1]},set_green:function(t,n){return t[1]=Math.min(Math.max(n,0),1)},get_blue:function(t){return t[2]},set_blue:function(t,n){return t[2]=Math.min(Math.max(n,0),1)},get_alpha:function(t){return t[3]},set_alpha:function(t,n){return t[3]=Math.min(Math.max(n,0),1)},get_red_int:function(t){return Math.round(255*t[0])},set_red_int:function(t,n){return t[0]=n/255,n},get_green_int:function(t){return Math.round(255*t[1])},set_green_int:function(t,n){return t[1]=n/255,n},get_blue_int:function(t){return Math.round(255*t[2])},set_blue_int:function(t,n){return t[2]=n/255,n},get_alpha_int:function(t){return Math.round(255*t[3])},set_alpha_int:function(t,n){return t[3]=n/255,n},get_hue:function(t){return 0!=Math.atan2(Math.sqrt(3)*(t[1]-t[2]),2*t[0]-t[1]-t[2])?(180/Math.PI*Math.atan2(Math.sqrt(3)*(t[1]-t[2]),2*t[0]-t[1]-t[2])+360)%360:0},set_hue:function(t,n){return x.set_HSL(t,n,(Math.max(t[0],Math.max(t[1],t[2]))-Math.min(t[0],Math.min(t[1],t[2])))/Math.max(t[0],Math.max(t[1],t[2])),(Math.max(t[0],Math.max(t[1],t[2]))+Math.min(t[0],Math.min(t[1],t[2])))/2),n},get_saturation:function(t){return(Math.max(t[0],Math.max(t[1],t[2]))-Math.min(t[0],Math.min(t[1],t[2])))/Math.max(t[0],Math.max(t[1],t[2]))},set_saturation:function(t,n){return x.set_HSL(t,0!=Math.atan2(Math.sqrt(3)*(t[1]-t[2]),2*t[0]-t[1]-t[2])?(180/Math.PI*Math.atan2(Math.sqrt(3)*(t[1]-t[2]),2*t[0]-t[1]-t[2])+360)%360:0,n,(Math.max(t[0],Math.max(t[1],t[2]))+Math.min(t[0],Math.min(t[1],t[2])))/2),n},get_lightness:function(t){return(Math.max(t[0],Math.max(t[1],t[2]))+Math.min(t[0],Math.min(t[1],t[2])))/2},set_lightness:function(t,n){return x.set_HSL(t,0!=Math.atan2(Math.sqrt(3)*(t[1]-t[2]),2*t[0]-t[1]-t[2])?(180/Math.PI*Math.atan2(Math.sqrt(3)*(t[1]-t[2]),2*t[0]-t[1]-t[2])+360)%360:0,(Math.max(t[0],Math.max(t[1],t[2]))-Math.min(t[0],Math.min(t[1],t[2])))/Math.max(t[0],Math.max(t[1],t[2])),n),n},get_brightness:function(t){return Math.max(t[0],Math.max(t[1],t[2]))},set_brightness:function(t,n){return x.set_HSV(t,0!=Math.atan2(Math.sqrt(3)*(t[1]-t[2]),2*t[0]-t[1]-t[2])?(180/Math.PI*Math.atan2(Math.sqrt(3)*(t[1]-t[2]),2*t[0]-t[1]-t[2])+360)%360:0,(Math.max(t[0],Math.max(t[1],t[2]))-Math.min(t[0],Math.min(t[1],t[2])))/Math.max(t[0],Math.max(t[1],t[2])),n),n},_new:function(t,n,e,r){return null==r&&(r=0),null==e&&(e=0),null==n&&(n=0),null==t&&(t=0),y.from_array_float([t,n,e,r])},set:function(t,n,e,r,u){return null==u&&(u=0),null==r&&(r=0),null==e&&(e=0),null==n&&(n=0),y.arr_set(t,0,x.zero(n)),y.arr_set(t,1,x.zero(e)),y.arr_set(t,2,x.zero(r)),y.arr_set(t,3,x.zero(u)),t},max_color:function(t){return Math.max(t[0],Math.max(t[1],t[2]))},min_color:function(t){return Math.min(t[0],Math.min(t[1],t[2]))},to_hex:function(t){return(255&Math.round(255*t[3]))<<24|(255&Math.round(255*t[0]))<<16|(255&Math.round(255*t[1]))<<8|255&Math.round(255*t[2])},to_hex_24:function(t){return(255&Math.round(255*t[0]))<<16|(255&Math.round(255*t[1]))<<8|255&Math.round(255*t[2])},from_int32:function(t,n){var e=(n>>16&255)/255,r=(n>>8&255)/255,u=(255&n)/255,g=(n>>24&255)/255;return null==g&&(g=0),null==u&&(u=0),null==r&&(r=0),null==e&&(e=0),y.arr_set(t,0,x.zero(e)),y.arr_set(t,1,x.zero(r)),y.arr_set(t,2,x.zero(u)),y.arr_set(t,3,x.zero(g)),t},equals:function(t,n){return t[0]==n[0]&&t[1]==n[1]&&t[2]==n[2]&&t[3]==n[3]},toString:function(t){return"r: "+t[0]+" | g: "+t[1]+" | b: "+t[2]+" | a: "+t[3]+" | #"+n.hex((255&Math.round(255*t[3]))<<24|(255&Math.round(255*t[0]))<<16|(255&Math.round(255*t[1]))<<8|255&Math.round(255*t[2]))},set_HSL:function(t,n,e,r){n/=360,x.set_from_hue(t,n);var u=(1-Math.abs(2*r-1))*e;return y.add_f(y.multiply_f(y.subtract_f(t,.5),u),r)},set_HSV:function(t,n,e,r){return x.set_from_hue(t,0!=Math.atan2(Math.sqrt(3)*(t[1]-t[2]),2*t[0]-t[1]-t[2])?(180/Math.PI*Math.atan2(Math.sqrt(3)*(t[1]-t[2]),2*t[0]-t[1]-t[2])+360)%360:0),t[0]=Math.min(Math.max(((t[0]-1)*e+1)*r,0),1),t[1]=Math.min(Math.max(((t[1]-1)*e+1)*r,0),1),t[2]=Math.min(Math.max(((t[2]-1)*e+1)*r,0),1),t},set_from_hue:function(t,n){return t[0]=Math.min(Math.max(Math.abs(6*n-3)-1,0),1),t[1]=Math.min(Math.max(2-Math.abs(6*n-2),0),1),t[2]=Math.min(Math.max(2-Math.abs(6*n-4),0),1),t},add:function(t,n){return x.get(t[0]+n[0],t[1]+n[1],t[2]+n[2],t[3]+n[3])},add_f:function(t,n){return x.get(t[0]+n,t[1]+n,t[2]+n,t[3]+n)},subtract:function(t,n){return x.get(t[0]-n[0],t[1]-n[1],t[2]-n[2],t[3]-n[3])},subtract_f:function(t,n){return x.get(t[0]-n,t[1]-n,t[2]-n,t[3]-n)},multiply:function(t,n){return x.get(t[0]*n[0],t[1]*n[1],t[2]*n[2],t[3]*n[3])},multiply_f:function(t,n){return x.get(t[0]*n,t[1]*n,t[2]*n,t[3]*n)},divide:function(t,n){return x.get(t[0]/n[0],t[1]/n[1],t[2]/n[2],t[3]/n[3])},divide_f:function(t,n){return x.get(t[0]/n,t[1]/n,t[2]/n,t[3]/n)},mod:function(t,n){return x.get(t[0]%n[0],t[1]%n[1],t[2]%n[2],t[3]%n[3])},mod_f:function(t,n){return x.get(t[0]%n,t[1]%n,t[2]%n,t[3]%n)},get_rrr:function(t){return m.get(t[0],t[0],t[0])},get_rrg:function(t){return m.get(t[0],t[0],t[1])},get_rrb:function(t){return m.get(t[0],t[0],t[2])},get_rgr:function(t){return m.get(t[0],t[1],t[0])},get_rgg:function(t){return m.get(t[0],t[1],t[1])},get_rgb:function(t){return m.get(t[0],t[1],t[2])},get_rbr:function(t){return m.get(t[0],t[2],t[0])},get_rbg:function(t){return m.get(t[0],t[2],t[1])},get_rbb:function(t){return m.get(t[0],t[2],t[2])},get_grr:function(t){return m.get(t[1],t[0],t[0])},get_grg:function(t){return m.get(t[1],t[0],t[1])},get_grb:function(t){return m.get(t[1],t[0],t[2])},get_ggr:function(t){return m.get(t[1],t[1],t[0])},get_ggg:function(t){return m.get(t[1],t[1],t[1])},get_ggb:function(t){return m.get(t[1],t[1],t[2])},get_gbr:function(t){return m.get(t[1],t[2],t[0])},get_gbg:function(t){return m.get(t[1],t[2],t[1])},get_gbb:function(t){return m.get(t[1],t[2],t[2])},get_brr:function(t){return m.get(t[2],t[0],t[0])},get_brg:function(t){return m.get(t[2],t[0],t[1])},get_brb:function(t){return m.get(t[2],t[0],t[2])},get_bgr:function(t){return m.get(t[2],t[1],t[0])},get_bgg:function(t){return m.get(t[2],t[1],t[1])},get_bgb:function(t){return m.get(t[2],t[1],t[2])},get_bbr:function(t){return m.get(t[2],t[2],t[0])},get_bbg:function(t){return m.get(t[2],t[2],t[1])},get_bbb:function(t){return m.get(t[2],t[2],t[2])},get_rrrr:function(t){return x.get(t[0],t[0],t[0],t[0])},get_rrrg:function(t){return x.get(t[0],t[0],t[0],t[1])},get_rrrb:function(t){return x.get(t[0],t[0],t[0],t[2])},get_rrra:function(t){return x.get(t[0],t[0],t[0],t[3])},get_rrgr:function(t){return x.get(t[0],t[0],t[1],t[0])},get_rrgg:function(t){return x.get(t[0],t[0],t[1],t[1])},get_rrgb:function(t){return x.get(t[0],t[0],t[1],t[2])},get_rrga:function(t){return x.get(t[0],t[0],t[1],t[3])},get_rrbr:function(t){return x.get(t[0],t[0],t[2],t[0])},get_rrbg:function(t){return x.get(t[0],t[0],t[2],t[1])},get_rrbb:function(t){return x.get(t[0],t[0],t[2],t[2])},get_rrba:function(t){return x.get(t[0],t[0],t[2],t[3])},get_rrar:function(t){return x.get(t[0],t[0],t[3],t[0])},get_rrag:function(t){return x.get(t[0],t[0],t[3],t[1])},get_rrab:function(t){return x.get(t[0],t[0],t[3],t[2])},get_rraa:function(t){return x.get(t[0],t[0],t[3],t[3])},get_rgrr:function(t){return x.get(t[0],t[1],t[0],t[0])},get_rgrg:function(t){return x.get(t[0],t[1],t[0],t[1])},get_rgrb:function(t){return x.get(t[0],t[1],t[0],t[2])},get_rgra:function(t){return x.get(t[0],t[1],t[0],t[3])},get_rggr:function(t){return x.get(t[0],t[1],t[1],t[0])},get_rggg:function(t){return x.get(t[0],t[1],t[1],t[1])},get_rggb:function(t){return x.get(t[0],t[1],t[1],t[2])},get_rgga:function(t){return x.get(t[0],t[1],t[1],t[3])},get_rgbr:function(t){return x.get(t[0],t[1],t[2],t[0])},get_rgbg:function(t){return x.get(t[0],t[1],t[2],t[1])},get_rgbb:function(t){return x.get(t[0],t[1],t[2],t[2])},get_rgba:function(t){return x.get(t[0],t[1],t[2],t[3])},get_rgar:function(t){return x.get(t[0],t[1],t[3],t[0])},get_rgag:function(t){return x.get(t[0],t[1],t[3],t[1])},get_rgab:function(t){return x.get(t[0],t[1],t[3],t[2])},get_rgaa:function(t){return x.get(t[0],t[1],t[3],t[3])},get_rbrr:function(t){return x.get(t[0],t[2],t[0],t[0])},get_rbrg:function(t){return x.get(t[0],t[2],t[0],t[1])},get_rbrb:function(t){return x.get(t[0],t[2],t[0],t[2])},get_rbra:function(t){return x.get(t[0],t[2],t[0],t[3])},get_rbgr:function(t){return x.get(t[0],t[2],t[1],t[0])},get_rbgg:function(t){return x.get(t[0],t[2],t[1],t[1])},get_rbgb:function(t){return x.get(t[0],t[2],t[1],t[2])},get_rbga:function(t){return x.get(t[0],t[2],t[1],t[3])},get_rbbr:function(t){return x.get(t[0],t[2],t[2],t[0])},get_rbbg:function(t){return x.get(t[0],t[2],t[2],t[1])},get_rbbb:function(t){return x.get(t[0],t[2],t[2],t[2])},get_rbba:function(t){return x.get(t[0],t[2],t[2],t[3])},get_rbar:function(t){return x.get(t[0],t[2],t[3],t[0])},get_rbag:function(t){return x.get(t[0],t[2],t[3],t[1])},get_rbab:function(t){return x.get(t[0],t[2],t[3],t[2])},get_rbaa:function(t){return x.get(t[0],t[2],t[3],t[3])},get_rarr:function(t){return x.get(t[0],t[3],t[0],t[0])},get_rarg:function(t){return x.get(t[0],t[3],t[0],t[1])},get_rarb:function(t){return x.get(t[0],t[3],t[0],t[2])},get_rara:function(t){return x.get(t[0],t[3],t[0],t[3])},get_ragr:function(t){return x.get(t[0],t[3],t[1],t[0])},get_ragg:function(t){return x.get(t[0],t[3],t[1],t[1])},get_ragb:function(t){return x.get(t[0],t[3],t[1],t[2])},get_raga:function(t){return x.get(t[0],t[3],t[1],t[3])},get_rabr:function(t){return x.get(t[0],t[3],t[2],t[0])},get_rabg:function(t){return x.get(t[0],t[3],t[2],t[1])},get_rabb:function(t){return x.get(t[0],t[3],t[2],t[2])},get_raba:function(t){return x.get(t[0],t[3],t[2],t[3])},get_raar:function(t){return x.get(t[0],t[3],t[3],t[0])},get_raag:function(t){return x.get(t[0],t[3],t[3],t[1])},get_raab:function(t){return x.get(t[0],t[3],t[3],t[2])},get_raaa:function(t){return x.get(t[0],t[3],t[3],t[3])},get_grrr:function(t){return x.get(t[1],t[0],t[0],t[0])},get_grrg:function(t){return x.get(t[1],t[0],t[0],t[1])},get_grrb:function(t){return x.get(t[1],t[0],t[0],t[2])},get_grra:function(t){return x.get(t[1],t[0],t[0],t[3])},get_grgr:function(t){return x.get(t[1],t[0],t[1],t[0])},get_grgg:function(t){return x.get(t[1],t[0],t[1],t[1])},get_grgb:function(t){return x.get(t[1],t[0],t[1],t[2])},get_grga:function(t){return x.get(t[1],t[0],t[1],t[3])},get_grbr:function(t){return x.get(t[1],t[0],t[2],t[0])},get_grbg:function(t){return x.get(t[1],t[0],t[2],t[1])},get_grbb:function(t){return x.get(t[1],t[0],t[2],t[2])},get_grba:function(t){return x.get(t[1],t[0],t[2],t[3])},get_grar:function(t){return x.get(t[1],t[0],t[3],t[0])},get_grag:function(t){return x.get(t[1],t[0],t[3],t[1])},get_grab:function(t){return x.get(t[1],t[0],t[3],t[2])},get_graa:function(t){return x.get(t[1],t[0],t[3],t[3])},get_ggrr:function(t){return x.get(t[1],t[1],t[0],t[0])},get_ggrg:function(t){return x.get(t[1],t[1],t[0],t[1])},get_ggrb:function(t){return x.get(t[1],t[1],t[0],t[2])},get_ggra:function(t){return x.get(t[1],t[1],t[0],t[3])},get_gggr:function(t){return x.get(t[1],t[1],t[1],t[0])},get_gggg:function(t){return x.get(t[1],t[1],t[1],t[1])},get_gggb:function(t){return x.get(t[1],t[1],t[1],t[2])},get_ggga:function(t){return x.get(t[1],t[1],t[1],t[3])},get_ggbr:function(t){return x.get(t[1],t[1],t[2],t[0])},get_ggbg:function(t){return x.get(t[1],t[1],t[2],t[1])},get_ggbb:function(t){return x.get(t[1],t[1],t[2],t[2])},get_ggba:function(t){return x.get(t[1],t[1],t[2],t[3])},get_ggar:function(t){return x.get(t[1],t[1],t[3],t[0])},get_ggag:function(t){return x.get(t[1],t[1],t[3],t[1])},get_ggab:function(t){return x.get(t[1],t[1],t[3],t[2])},get_ggaa:function(t){return x.get(t[1],t[1],t[3],t[3])},get_gbrr:function(t){return x.get(t[1],t[2],t[0],t[0])},get_gbrg:function(t){return x.get(t[1],t[2],t[0],t[1])},get_gbrb:function(t){return x.get(t[1],t[2],t[0],t[2])},get_gbra:function(t){return x.get(t[1],t[2],t[0],t[3])},get_gbgr:function(t){return x.get(t[1],t[2],t[1],t[0])},get_gbgg:function(t){return x.get(t[1],t[2],t[1],t[1])},get_gbgb:function(t){return x.get(t[1],t[2],t[1],t[2])},get_gbga:function(t){return x.get(t[1],t[2],t[1],t[3])},get_gbbr:function(t){return x.get(t[1],t[2],t[2],t[0])},get_gbbg:function(t){return x.get(t[1],t[2],t[2],t[1])},get_gbbb:function(t){return x.get(t[1],t[2],t[2],t[2])},get_gbba:function(t){return x.get(t[1],t[2],t[2],t[3])},get_gbar:function(t){return x.get(t[1],t[2],t[3],t[0])},get_gbag:function(t){return x.get(t[1],t[2],t[3],t[1])},get_gbab:function(t){return x.get(t[1],t[2],t[3],t[2])},get_gbaa:function(t){return x.get(t[1],t[2],t[3],t[3])},get_garr:function(t){return x.get(t[1],t[3],t[0],t[0])},get_garg:function(t){return x.get(t[1],t[3],t[0],t[1])},get_garb:function(t){return x.get(t[1],t[3],t[0],t[2])},get_gara:function(t){return x.get(t[1],t[3],t[0],t[3])},get_gagr:function(t){return x.get(t[1],t[3],t[1],t[0])},get_gagg:function(t){return x.get(t[1],t[3],t[1],t[1])},get_gagb:function(t){return x.get(t[1],t[3],t[1],t[2])},get_gaga:function(t){return x.get(t[1],t[3],t[1],t[3])},get_gabr:function(t){return x.get(t[1],t[3],t[2],t[0])},get_gabg:function(t){return x.get(t[1],t[3],t[2],t[1])},get_gabb:function(t){return x.get(t[1],t[3],t[2],t[2])},get_gaba:function(t){return x.get(t[1],t[3],t[2],t[3])},get_gaar:function(t){return x.get(t[1],t[3],t[3],t[0])},get_gaag:function(t){return x.get(t[1],t[3],t[3],t[1])},get_gaab:function(t){return x.get(t[1],t[3],t[3],t[2])},get_gaaa:function(t){return x.get(t[1],t[3],t[3],t[3])},get_brrr:function(t){return x.get(t[2],t[0],t[0],t[0])},get_brrg:function(t){return x.get(t[2],t[0],t[0],t[1])},get_brrb:function(t){return x.get(t[2],t[0],t[0],t[2])},get_brra:function(t){return x.get(t[2],t[0],t[0],t[3])},get_brgr:function(t){return x.get(t[2],t[0],t[1],t[0])},get_brgg:function(t){return x.get(t[2],t[0],t[1],t[1])},get_brgb:function(t){return x.get(t[2],t[0],t[1],t[2])},get_brga:function(t){return x.get(t[2],t[0],t[1],t[3])},get_brbr:function(t){return x.get(t[2],t[0],t[2],t[0])},get_brbg:function(t){return x.get(t[2],t[0],t[2],t[1])},get_brbb:function(t){return x.get(t[2],t[0],t[2],t[2])},get_brba:function(t){return x.get(t[2],t[0],t[2],t[3])},get_brar:function(t){return x.get(t[2],t[0],t[3],t[0])},get_brag:function(t){return x.get(t[2],t[0],t[3],t[1])},get_brab:function(t){return x.get(t[2],t[0],t[3],t[2])},get_braa:function(t){return x.get(t[2],t[0],t[3],t[3])},get_bgrr:function(t){return x.get(t[2],t[1],t[0],t[0])},get_bgrg:function(t){return x.get(t[2],t[1],t[0],t[1])},get_bgrb:function(t){return x.get(t[2],t[1],t[0],t[2])},get_bgra:function(t){return x.get(t[2],t[1],t[0],t[3])},get_bggr:function(t){return x.get(t[2],t[1],t[1],t[0])},get_bggg:function(t){return x.get(t[2],t[1],t[1],t[1])},get_bggb:function(t){return x.get(t[2],t[1],t[1],t[2])},get_bgga:function(t){return x.get(t[2],t[1],t[1],t[3])},get_bgbr:function(t){return x.get(t[2],t[1],t[2],t[0])},get_bgbg:function(t){return x.get(t[2],t[1],t[2],t[1])},get_bgbb:function(t){return x.get(t[2],t[1],t[2],t[2])},get_bgba:function(t){return x.get(t[2],t[1],t[2],t[3])},get_bgar:function(t){return x.get(t[2],t[1],t[3],t[0])},get_bgag:function(t){return x.get(t[2],t[1],t[3],t[1])},get_bgab:function(t){return x.get(t[2],t[1],t[3],t[2])},get_bgaa:function(t){return x.get(t[2],t[1],t[3],t[3])},get_bbrr:function(t){return x.get(t[2],t[2],t[0],t[0])},get_bbrg:function(t){return x.get(t[2],t[2],t[0],t[1])},get_bbrb:function(t){return x.get(t[2],t[2],t[0],t[2])},get_bbra:function(t){return x.get(t[2],t[2],t[0],t[3])},get_bbgr:function(t){return x.get(t[2],t[2],t[1],t[0])},get_bbgg:function(t){return x.get(t[2],t[2],t[1],t[1])},get_bbgb:function(t){return x.get(t[2],t[2],t[1],t[2])},get_bbga:function(t){return x.get(t[2],t[2],t[1],t[3])},get_bbbr:function(t){return x.get(t[2],t[2],t[2],t[0])},get_bbbg:function(t){return x.get(t[2],t[2],t[2],t[1])},get_bbbb:function(t){return x.get(t[2],t[2],t[2],t[2])},get_bbba:function(t){return x.get(t[2],t[2],t[2],t[3])},get_bbar:function(t){return x.get(t[2],t[2],t[3],t[0])},get_bbag:function(t){return x.get(t[2],t[2],t[3],t[1])},get_bbab:function(t){return x.get(t[2],t[2],t[3],t[2])},get_bbaa:function(t){return x.get(t[2],t[2],t[3],t[3])},get_barr:function(t){return x.get(t[2],t[3],t[0],t[0])},get_barg:function(t){return x.get(t[2],t[3],t[0],t[1])},get_barb:function(t){return x.get(t[2],t[3],t[0],t[2])},get_bara:function(t){return x.get(t[2],t[3],t[0],t[3])},get_bagr:function(t){return x.get(t[2],t[3],t[1],t[0])},get_bagg:function(t){return x.get(t[2],t[3],t[1],t[1])},get_bagb:function(t){return x.get(t[2],t[3],t[1],t[2])},get_baga:function(t){return x.get(t[2],t[3],t[1],t[3])},get_babr:function(t){return x.get(t[2],t[3],t[2],t[0])},get_babg:function(t){return x.get(t[2],t[3],t[2],t[1])},get_babb:function(t){return x.get(t[2],t[3],t[2],t[2])},get_baba:function(t){return x.get(t[2],t[3],t[2],t[3])},get_baar:function(t){return x.get(t[2],t[3],t[3],t[0])},get_baag:function(t){return x.get(t[2],t[3],t[3],t[1])},get_baab:function(t){return x.get(t[2],t[3],t[3],t[2])},get_baaa:function(t){return x.get(t[2],t[3],t[3],t[3])},get_arrr:function(t){return x.get(t[3],t[0],t[0],t[0])},get_arrg:function(t){return x.get(t[3],t[0],t[0],t[1])},get_arrb:function(t){return x.get(t[3],t[0],t[0],t[2])},get_arra:function(t){return x.get(t[3],t[0],t[0],t[3])},get_argr:function(t){return x.get(t[3],t[0],t[1],t[0])},get_argg:function(t){return x.get(t[3],t[0],t[1],t[1])},get_argb:function(t){return x.get(t[3],t[0],t[1],t[2])},get_arga:function(t){return x.get(t[3],t[0],t[1],t[3])},get_arbr:function(t){return x.get(t[3],t[0],t[2],t[0])},get_arbg:function(t){return x.get(t[3],t[0],t[2],t[1])},get_arbb:function(t){return x.get(t[3],t[0],t[2],t[2])},get_arba:function(t){return x.get(t[3],t[0],t[2],t[3])},get_arar:function(t){return x.get(t[3],t[0],t[3],t[0])},get_arag:function(t){return x.get(t[3],t[0],t[3],t[1])},get_arab:function(t){return x.get(t[3],t[0],t[3],t[2])},get_araa:function(t){return x.get(t[3],t[0],t[3],t[3])},get_agrr:function(t){return x.get(t[3],t[1],t[0],t[0])},get_agrg:function(t){return x.get(t[3],t[1],t[0],t[1])},get_agrb:function(t){return x.get(t[3],t[1],t[0],t[2])},get_agra:function(t){return x.get(t[3],t[1],t[0],t[3])},get_aggr:function(t){return x.get(t[3],t[1],t[1],t[0])},get_aggg:function(t){return x.get(t[3],t[1],t[1],t[1])},get_aggb:function(t){return x.get(t[3],t[1],t[1],t[2])},get_agga:function(t){return x.get(t[3],t[1],t[1],t[3])},get_agbr:function(t){return x.get(t[3],t[1],t[2],t[0])},get_agbg:function(t){return x.get(t[3],t[1],t[2],t[1])},get_agbb:function(t){return x.get(t[3],t[1],t[2],t[2])},get_agba:function(t){return x.get(t[3],t[1],t[2],t[3])},get_agar:function(t){return x.get(t[3],t[1],t[3],t[0])},get_agag:function(t){return x.get(t[3],t[1],t[3],t[1])},get_agab:function(t){return x.get(t[3],t[1],t[3],t[2])},get_agaa:function(t){return x.get(t[3],t[1],t[3],t[3])},get_abrr:function(t){return x.get(t[3],t[2],t[0],t[0])},get_abrg:function(t){return x.get(t[3],t[2],t[0],t[1])},get_abrb:function(t){return x.get(t[3],t[2],t[0],t[2])},get_abra:function(t){return x.get(t[3],t[2],t[0],t[3])},get_abgr:function(t){return x.get(t[3],t[2],t[1],t[0])},get_abgg:function(t){return x.get(t[3],t[2],t[1],t[1])},get_abgb:function(t){return x.get(t[3],t[2],t[1],t[2])},get_abga:function(t){return x.get(t[3],t[2],t[1],t[3])},get_abbr:function(t){return x.get(t[3],t[2],t[2],t[0])},get_abbg:function(t){return x.get(t[3],t[2],t[2],t[1])},get_abbb:function(t){return x.get(t[3],t[2],t[2],t[2])},get_abba:function(t){return x.get(t[3],t[2],t[2],t[3])},get_abar:function(t){return x.get(t[3],t[2],t[3],t[0])},get_abag:function(t){return x.get(t[3],t[2],t[3],t[1])},get_abab:function(t){return x.get(t[3],t[2],t[3],t[2])},get_abaa:function(t){return x.get(t[3],t[2],t[3],t[3])},get_aarr:function(t){return x.get(t[3],t[3],t[0],t[0])},get_aarg:function(t){return x.get(t[3],t[3],t[0],t[1])},get_aarb:function(t){return x.get(t[3],t[3],t[0],t[2])},get_aara:function(t){return x.get(t[3],t[3],t[0],t[3])},get_aagr:function(t){return x.get(t[3],t[3],t[1],t[0])},get_aagg:function(t){return x.get(t[3],t[3],t[1],t[1])},get_aagb:function(t){return x.get(t[3],t[3],t[1],t[2])},get_aaga:function(t){return x.get(t[3],t[3],t[1],t[3])},get_aabr:function(t){return x.get(t[3],t[3],t[2],t[0])},get_aabg:function(t){return x.get(t[3],t[3],t[2],t[1])},get_aabb:function(t){return x.get(t[3],t[3],t[2],t[2])},get_aaba:function(t){return x.get(t[3],t[3],t[2],t[3])},get_aaar:function(t){return x.get(t[3],t[3],t[3],t[0])},get_aaag:function(t){return x.get(t[3],t[3],t[3],t[1])},get_aaab:function(t){return x.get(t[3],t[3],t[3],t[2])},get_aaaa:function(t){return x.get(t[3],t[3],t[3],t[3])}},z=function(){};z.__name__=!0,z.dispatch=function(t,n){if(Object.prototype.hasOwnProperty.call(z.listeners.h,t))for(var e=0,r=z.listeners.h[t];e<r.length;){var u=r[e];++e,null!=u&&z.active_map.h[t]&&u(n)}},z.listen=function(t,n){Object.prototype.hasOwnProperty.call(z.listeners.h,n)||(z.listeners.h[n]=[]),Object.prototype.hasOwnProperty.call(z.active_map.h,n)||(z.active_map.h[n]=!0),z.listeners.h[n].push(t)},z.unlisten=function(t,n){Object.prototype.hasOwnProperty.call(z.listeners.h,n)&&e.remove(z.listeners.h[n],t)},z.unlisten_all=function(){for(var t=u.keysIterator(z.listeners.h);t.hasNext();){var n=t.next();z.listeners.h[n]=[]}},z.unlisten_signal=function(t){var n=z.listeners;Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t]},z.set_active=function(t,n){Object.prototype.hasOwnProperty.call(z.active_map.h,t)&&(z.active_map.h[t]=n)};var s={from_array_int:function(t){return s.get(t[0],t[1])},arr_set:function(t,n,e){n<0||1<n||(t[n]=e)},arr_get:function(t,n){return t[Math.floor(Math.max(Math.min(n,1),0))]},get:function(t,n){if(null==n&&(n=0),null==t&&(t=0),null!=s.pool&&0<s.pool.length){var e=s.pool.shift(),r=t,u=null==n?0:n;return null==t&&(r=0),e[0]=r,e[1]=u,e}return[r=null==t?0:t,u=null==n?0:n]},put:function(t){s.pool.push(t),t=null},_new:function(t,n){return null==n&&(n=0),null==t&&(t=0),[t,n]},set:function(t,n,e){return null==e&&(e=0),null==n&&(n=0),t[0]=n,t[1]=e,t},get_x:function(t){return t[0]},set_x:function(t,n){return t[0]=n},get_y:function(t){return t[1]},set_y:function(t,n){return t[1]=n},get_length:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},get_angle:function(t){return(Math.atan2(t[1],t[0])*(180/Math.PI)%360+360)%360},copy_from:function(t,n){var e=n[0],r=n[1];return null==r&&(r=0),null==e&&(e=0),t[0]=e,t[1]=r,t},copy:function(t){return s.get(t[0],t[1])},equals:function(t,n){return t[0]==n[0]&&t[1]==n[1]},distance:function(t,n){var e=s.subtract(n,s.from_array_int(t));return Math.sqrt(e[0]*e[0]+e[1]*e[1])},toString:function(t){return"x: "+t[0]+" | y: "+t[1]},add:function(t,n){return s.get(t[0]+n[0],t[1]+n[1])},add_int:function(t,n){return s.get(t[0]+n,t[1]+n)},subtract:function(t,n){return s.get(t[0]-n[0],t[1]-n[1])},subtract_int:function(t,n){return s.get(t[0]-n,t[1]-n)},multiply:function(t,n){return s.get(t[0]*n[0],t[1]*n[1])},multiply_int:function(t,n){return s.get(t[0]*n,t[1]*n)},mod:function(t,n){return s.get(t[0]%n[0],t[1]%n[1])},mod_int:function(t,n){return s.get(t[0]%n,t[1]%n)}},w=function(){};w.__name__=!0,w.get=function(t,n,e){null==e&&(e=1);var r=0<w.pool.length?w.pool.shift():new w;return r.time=t,r.fn=n,r.repeat=e,r.paused=!1,r.elapsed=0,w.timers.push(r),r},w.update=function(t){for(var n=0,e=w.timers;n<e.length;)e[n++].run(t)},w.cancel_all=function(){for(var t=0,n=w.timers;t<n.length;)n[t++].cancel()},w.prototype={get_active:function(){return 0<=w.timers.indexOf(this)},reset:function(){this.elapsed=0},cancel:function(){e.remove(w.timers,this)&&w.pool.push(this)},pause:function(){this.paused=!0},unpause:function(){this.paused=!1},get_remaining:function(){return this.time-this.elapsed},run:function(t){this.paused||(this.elapsed+=t,this.time-this.elapsed>w.epsilon||(this.fn(),this.elapsed=0,this.repeat--,0==this.repeat&&this.cancel()))},toString:function(){return"time left: "+this.get_remaining()}};var b={zero:function(t){return Math.abs(t)<=b.epsilon?0:t},from_array_float:function(t){return b.get(t[0],t[1])},from_array_int:function(t){return b.get(t[0],t[1])},arr_set:function(t,n,e){n<0||1<n||(t[n]=e)},arr_get:function(t,n){return t[Math.floor(Math.max(Math.min(n,1),0))]},get:function(t,n){if(null==n&&(n=0),null==t&&(t=0),null!=b.pool&&0<b.pool.length){var e=b.pool.shift(),r=t,u=null==n?0:n;return null==t&&(r=0),e[0]=b.zero(r),e[1]=b.zero(u),e}return[r=null==t?0:t,u=null==n?0:n]},put:function(t){b.pool.push(t),t=null},_new:function(t,n){return null==n&&(n=0),null==t&&(t=0),[t,n]},set:function(t,n,e){return null==e&&(e=0),null==n&&(n=0),t[0]=b.zero(n),t[1]=b.zero(e),t},get_x:function(t){return t[0]},set_x:function(t,n){return t[0]=n},get_y:function(t){return t[1]},set_y:function(t,n){return t[1]=n},get_length:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},set_length:function(t,n){var e=t[0]/Math.sqrt(t[0]*t[0]+t[1]*t[1]),r=t[1]/Math.sqrt(t[0]*t[0]+t[1]*t[1]);null==r&&(r=0),null==e&&(e=0),t[0]=b.zero(e),t[1]=b.zero(r);e=t[0]*n;return null==(r=t[1]*n)&&(r=0),null==e&&(e=0),t[0]=b.zero(e),t[1]=b.zero(r),n},get_angle:function(t){return(Math.atan2(t[1],t[0])*(180/Math.PI)%360+360)%360},set_angle:function(t,n){n*=Math.PI/180;var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),r=e*Math.cos(n),u=e*Math.sin(n);return null==u&&(u=0),null==r&&(r=0),t[0]=b.zero(r),t[1]=b.zero(u),n},get_radians:function(t){return Math.atan2(t[1],t[0])},set_radians:function(t,n){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),r=e*Math.cos(n),u=e*Math.sin(n);return null==u&&(u=0),null==r&&(r=0),t[0]=b.zero(r),t[1]=b.zero(u),n},copy_from:function(t,n){var e=n[0],r=n[1];return null==r&&(r=0),null==e&&(e=0),t[0]=b.zero(e),t[1]=b.zero(r),t},normalize:function(t){var n=t[0]/Math.sqrt(t[0]*t[0]+t[1]*t[1]),e=t[1]/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return null==e&&(e=0),null==n&&(n=0),t[0]=b.zero(n),t[1]=b.zero(e),t},scale:function(t,n){var e=t[0]*n,r=t[1]*n;return null==r&&(r=0),null==e&&(e=0),t[0]=b.zero(e),t[1]=b.zero(r),t},copy:function(t){return b.get(t[0],t[1])},equals:function(t,n){return t[0]==n[0]&&t[1]==n[1]},in_circle:function(t,n,e){var r=b.subtract(n,b.from_array_float(t));return Math.sqrt(r[0]*r[0]+r[1]*r[1])<e},dot:function(t,n){return b.zero(t[0]*n[0]+t[1]*n[1])},cross:function(t,n){return b.zero(t[0]*n[1]-t[1]*n[0])},facing:function(t,n){return b.zero(t[0]/Math.sqrt(t[0]*t[0]+t[1]*t[1])*n[0]/Math.sqrt(n[0]*n[0]+n[1]*n[1])+t[1]/Math.sqrt(t[0]*t[0]+t[1]*t[1])*n[1]/Math.sqrt(n[0]*n[0]+n[1]*n[1]))},distance:function(t,n){var e=b.subtract(n,b.from_array_float(t));return Math.sqrt(e[0]*e[0]+e[1]*e[1])},rad_between:function(t,n){return Math.atan2(n[1]-t[1],n[0]-t[0])},toString:function(t){return"x: "+t[0]+" | y: "+t[1]+" | length: "+Math.sqrt(t[0]*t[0]+t[1]*t[1])+" | angle: "+(Math.atan2(t[1],t[0])*(180/Math.PI)%360+360)%360},add:function(t,n){return b.get(t[0]+n[0],t[1]+n[1])},add_f:function(t,n){return b.get(t[0]+n,t[1]+n)},subtract:function(t,n){return b.get(t[0]-n[0],t[1]-n[1])},subtract_f:function(t,n){return b.get(t[0]-n,t[1]-n)},multiply:function(t,n){return b.get(t[0]*n[0],t[1]*n[1])},multiply_f:function(t,n){return b.get(t[0]*n,t[1]*n)},divide:function(t,n){return b.get(t[0]/n[0],t[1]/n[1])},divide_f:function(t,n){return b.get(t[0]/n,t[1]/n)},mod:function(t,n){return b.get(t[0]%n[0],t[1]%n[1])},mod_f:function(t,n){return b.get(t[0]%n,t[1]%n)},get_xx:function(t){return b.get(t[0],t[0])},get_xy:function(t){return b.get(t[0],t[1])},get_yx:function(t){return b.get(t[1],t[0])},get_yy:function(t){return b.get(t[1],t[1])},get_xxx:function(t){return m.get(t[0],t[0],t[0])},get_xxy:function(t){return m.get(t[0],t[0],t[1])},get_xyx:function(t){return m.get(t[0],t[1],t[0])},get_xyy:function(t){return m.get(t[0],t[1],t[1])},get_yxx:function(t){return m.get(t[1],t[0],t[0])},get_yxy:function(t){return m.get(t[1],t[0],t[1])},get_yyx:function(t){return m.get(t[1],t[1],t[0])},get_yyy:function(t){return m.get(t[1],t[1],t[1])},get_xxxx:function(t){return y.get(t[0],t[0],t[0],t[0])},get_xxxy:function(t){return y.get(t[0],t[0],t[0],t[1])},get_xxyx:function(t){return y.get(t[0],t[0],t[1],t[0])},get_xxyy:function(t){return y.get(t[0],t[0],t[1],t[1])},get_xyxx:function(t){return y.get(t[0],t[1],t[0],t[0])},get_xyxy:function(t){return y.get(t[0],t[1],t[0],t[1])},get_xyyx:function(t){return y.get(t[0],t[1],t[1],t[0])},get_xyyy:function(t){return y.get(t[0],t[1],t[1],t[1])},get_yxxx:function(t){return y.get(t[1],t[0],t[0],t[0])},get_yxxy:function(t){return y.get(t[1],t[0],t[0],t[1])},get_yxyx:function(t){return y.get(t[1],t[0],t[1],t[0])},get_yxyy:function(t){return y.get(t[1],t[0],t[1],t[1])},get_yyxx:function(t){return y.get(t[1],t[1],t[0],t[0])},get_yyxy:function(t){return y.get(t[1],t[1],t[0],t[1])},get_yyyx:function(t){return y.get(t[1],t[1],t[1],t[0])},get_yyyy:function(t){return y.get(t[1],t[1],t[1],t[1])}},m={zero:function(t){return Math.abs(t)<=m.epsilon?0:t},from_array_float:function(t){return m.get(t[0],t[1],t[2])},from_array_int:function(t){return m.get(t[0],t[1],t[2])},arr_set:function(t,n,e){n<0||2<n||(t[n]=e)},arr_get:function(t,n){return t[Math.floor(Math.max(Math.min(n,2),0))]},get:function(t,n,e){if(null==e&&(e=0),null==n&&(n=0),null==t&&(t=0),null!=m.pool&&0<m.pool.length){var r=m.pool.shift(),u=t,g=n,o=null==e?0:e;return null==n&&(g=0),null==t&&(u=0),r[0]=m.zero(u),r[1]=m.zero(g),r[2]=m.zero(o),r}return[u=null==t?0:t,g=null==n?0:n,o=null==e?0:e]},put:function(t){m.pool.push(t),t=null},_new:function(t,n,e){return null==e&&(e=0),null==n&&(n=0),null==t&&(t=0),[t,n,e]},set:function(t,n,e,r){return null==r&&(r=0),null==e&&(e=0),null==n&&(n=0),t[0]=m.zero(n),t[1]=m.zero(e),t[2]=m.zero(r),t},get_x:function(t){return t[0]},set_x:function(t,n){return t[0]=n},get_y:function(t){return t[1]},set_y:function(t,n){return t[1]=n},get_z:function(t){return t[2]},set_z:function(t,n){return t[2]=n},get_length:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},set_length:function(t,n){var e=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=t[0]*e,u=t[1]*e,g=t[2]*e;null==g&&(g=0),null==u&&(u=0),null==r&&(r=0),t[0]=m.zero(r),t[1]=m.zero(u),t[2]=m.zero(g);r=t[0]*n,u=t[1]*n;return null==(g=t[2]*n)&&(g=0),null==u&&(u=0),null==r&&(r=0),t[0]=m.zero(r),t[1]=m.zero(u),t[2]=m.zero(g),n},copy_from:function(t,n){var e=n[0],r=n[1],u=n[2];return null==u&&(u=0),null==r&&(r=0),null==e&&(e=0),t[0]=m.zero(e),t[1]=m.zero(r),t[2]=m.zero(u),t},scale:function(t,n){var e=t[0]*n,r=t[1]*n,u=t[2]*n;return null==u&&(u=0),null==r&&(r=0),null==e&&(e=0),t[0]=m.zero(e),t[1]=m.zero(r),t[2]=m.zero(u),t},normalize:function(t){var n=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),e=t[0]*n,r=t[1]*n,u=t[2]*n;return null==u&&(u=0),null==r&&(r=0),null==e&&(e=0),t[0]=m.zero(e),t[1]=m.zero(r),t[2]=m.zero(u),t},copy:function(t){return m.get(t[0],t[1],t[2])},equals:function(t,n){return t[0]==n[0]&&t[1]==n[1]&&t[2]==n[2]},to_hex:function(t){return(255&Math.round(255*t[0]))<<16|(255&Math.round(255*t[1]))<<8|255&Math.round(255*t[2])},toString:function(t){return"x: "+t[0]+" | y: "+t[1]+" | z: "+t[2]},dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},cross:function(t,n){return m.get(t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0])},distance:function(t,n){return Math.sqrt(Math.pow(n.x-t[0],2)+Math.pow(n.y-t[1],2)+Math.pow(n.z-t[2],2))},add:function(t,n){return m.get(t[0]+n[0],t[1]+n[1],t[2]+n[2])},add_f:function(t,n){return m.get(t[0]+n,t[1]+n,t[2]+n)},subtract:function(t,n){return m.get(t[0]-n[0],t[1]-n[1],t[2]-n[2])},subtract_f:function(t,n){return m.get(t[0]-n,t[1]-n,t[2]-n)},multiply:function(t,n){return m.get(t[0]*n[0],t[1]*n[1],t[2]*n[2])},multiply_f:function(t,n){return m.get(t[0]*n,t[1]*n,t[2]*n)},divide:function(t,n){return m.get(t[0]/n[0],t[1]/n[1],t[2]/n[2])},divide_f:function(t,n){return m.get(t[0]/n,t[1]/n,t[2]/n)},mod:function(t,n){return m.get(t[0]%n[0],t[1]%n[1],t[2]%n[2])},mod_f:function(t,n){return m.get(t[0]%n,t[1]%n,t[2]%n)},get_xx:function(t){return b.get(t[0],t[0])},get_xy:function(t){return b.get(t[0],t[1])},get_xz:function(t){return b.get(t[0],t[2])},get_yx:function(t){return b.get(t[1],t[0])},get_yy:function(t){return b.get(t[1],t[1])},get_yz:function(t){return b.get(t[1],t[2])},get_zx:function(t){return b.get(t[2],t[0])},get_zy:function(t){return b.get(t[2],t[1])},get_zz:function(t){return b.get(t[2],t[2])},get_xxx:function(t){return m.get(t[0],t[0],t[0])},get_xxy:function(t){return m.get(t[0],t[0],t[1])},get_xxz:function(t){return m.get(t[0],t[0],t[2])},get_xyx:function(t){return m.get(t[0],t[1],t[0])},get_xyy:function(t){return m.get(t[0],t[1],t[1])},get_xyz:function(t){return m.get(t[0],t[1],t[2])},get_xzx:function(t){return m.get(t[0],t[2],t[0])},get_xzy:function(t){return m.get(t[0],t[2],t[1])},get_xzz:function(t){return m.get(t[0],t[2],t[2])},get_yxx:function(t){return m.get(t[0],t[0],t[0])},get_yxy:function(t){return m.get(t[0],t[0],t[1])},get_yxz:function(t){return m.get(t[0],t[0],t[2])},get_yyx:function(t){return m.get(t[0],t[1],t[0])},get_yyy:function(t){return m.get(t[0],t[1],t[1])},get_yyz:function(t){return m.get(t[0],t[1],t[2])},get_yzx:function(t){return m.get(t[0],t[2],t[0])},get_yzy:function(t){return m.get(t[0],t[2],t[1])},get_yzz:function(t){return m.get(t[0],t[2],t[2])},get_zxx:function(t){return m.get(t[0],t[0],t[0])},get_zxy:function(t){return m.get(t[0],t[0],t[1])},get_zxz:function(t){return m.get(t[0],t[0],t[2])},get_zyx:function(t){return m.get(t[0],t[1],t[0])},get_zyy:function(t){return m.get(t[0],t[1],t[1])},get_zyz:function(t){return m.get(t[0],t[1],t[2])},get_zzx:function(t){return m.get(t[0],t[2],t[0])},get_zzy:function(t){return m.get(t[0],t[2],t[1])},get_zzz:function(t){return m.get(t[0],t[2],t[2])},get_xxxx:function(t){return y.get(t[0],t[0],t[0],t[0])},get_xxxy:function(t){return y.get(t[0],t[0],t[0],t[1])},get_xxxz:function(t){return y.get(t[0],t[0],t[0],t[2])},get_xxyx:function(t){return y.get(t[0],t[0],t[1],t[0])},get_xxyy:function(t){return y.get(t[0],t[0],t[1],t[1])},get_xxyz:function(t){return y.get(t[0],t[0],t[1],t[2])},get_xxzx:function(t){return y.get(t[0],t[0],t[2],t[0])},get_xxzy:function(t){return y.get(t[0],t[0],t[2],t[1])},get_xxzz:function(t){return y.get(t[0],t[0],t[2],t[2])},get_xyxx:function(t){return y.get(t[0],t[1],t[0],t[0])},get_xyxy:function(t){return y.get(t[0],t[1],t[0],t[1])},get_xyxz:function(t){return y.get(t[0],t[1],t[0],t[2])},get_xyyx:function(t){return y.get(t[0],t[1],t[1],t[0])},get_xyyy:function(t){return y.get(t[0],t[1],t[1],t[1])},get_xyyz:function(t){return y.get(t[0],t[1],t[1],t[2])},get_xyzx:function(t){return y.get(t[0],t[1],t[2],t[0])},get_xyzy:function(t){return y.get(t[0],t[1],t[2],t[1])},get_xyzz:function(t){return y.get(t[0],t[1],t[2],t[2])},get_xzxx:function(t){return y.get(t[0],t[2],t[0],t[0])},get_xzxy:function(t){return y.get(t[0],t[2],t[0],t[1])},get_xzxz:function(t){return y.get(t[0],t[2],t[0],t[2])},get_xzyx:function(t){return y.get(t[0],t[2],t[1],t[0])},get_xzyy:function(t){return y.get(t[0],t[2],t[1],t[1])},get_xzyz:function(t){return y.get(t[0],t[2],t[1],t[2])},get_xzzx:function(t){return y.get(t[0],t[2],t[2],t[0])},get_xzzy:function(t){return y.get(t[0],t[2],t[2],t[1])},get_xzzz:function(t){return y.get(t[0],t[2],t[2],t[2])},get_yxxx:function(t){return y.get(t[1],t[0],t[0],t[0])},get_yxxy:function(t){return y.get(t[1],t[0],t[0],t[1])},get_yxxz:function(t){return y.get(t[1],t[0],t[0],t[2])},get_yxyx:function(t){return y.get(t[1],t[0],t[1],t[0])},get_yxyy:function(t){return y.get(t[1],t[0],t[1],t[1])},get_yxyz:function(t){return y.get(t[1],t[0],t[1],t[2])},get_yxzx:function(t){return y.get(t[1],t[0],t[2],t[0])},get_yxzy:function(t){return y.get(t[1],t[0],t[2],t[1])},get_yxzz:function(t){return y.get(t[1],t[0],t[2],t[2])},get_yyxx:function(t){return y.get(t[1],t[1],t[0],t[0])},get_yyxy:function(t){return y.get(t[1],t[1],t[0],t[1])},get_yyxz:function(t){return y.get(t[1],t[1],t[0],t[2])},get_yyyx:function(t){return y.get(t[1],t[1],t[1],t[0])},get_yyyy:function(t){return y.get(t[1],t[1],t[1],t[1])},get_yyyz:function(t){return y.get(t[1],t[1],t[1],t[2])},get_yyzx:function(t){return y.get(t[1],t[1],t[2],t[0])},get_yyzy:function(t){return y.get(t[1],t[1],t[2],t[1])},get_yyzz:function(t){return y.get(t[1],t[1],t[2],t[2])},get_yzxx:function(t){return y.get(t[1],t[2],t[0],t[0])},get_yzxy:function(t){return y.get(t[1],t[2],t[0],t[1])},get_yzxz:function(t){return y.get(t[1],t[2],t[0],t[2])},get_yzyx:function(t){return y.get(t[1],t[2],t[1],t[0])},get_yzyy:function(t){return y.get(t[1],t[2],t[1],t[1])},get_yzyz:function(t){return y.get(t[1],t[2],t[1],t[2])},get_yzzx:function(t){return y.get(t[1],t[2],t[2],t[0])},get_yzzy:function(t){return y.get(t[1],t[2],t[2],t[1])},get_yzzz:function(t){return y.get(t[1],t[2],t[2],t[2])},get_zxxx:function(t){return y.get(t[2],t[0],t[0],t[0])},get_zxxy:function(t){return y.get(t[2],t[0],t[0],t[1])},get_zxxz:function(t){return y.get(t[2],t[0],t[0],t[2])},get_zxyx:function(t){return y.get(t[2],t[0],t[1],t[0])},get_zxyy:function(t){return y.get(t[2],t[0],t[1],t[1])},get_zxyz:function(t){return y.get(t[2],t[0],t[1],t[2])},get_zxzx:function(t){return y.get(t[2],t[0],t[2],t[0])},get_zxzy:function(t){return y.get(t[2],t[0],t[2],t[1])},get_zxzz:function(t){return y.get(t[2],t[0],t[2],t[2])},get_zyxx:function(t){return y.get(t[2],t[1],t[0],t[0])},get_zyxy:function(t){return y.get(t[2],t[1],t[0],t[1])},get_zyxz:function(t){return y.get(t[2],t[1],t[0],t[2])},get_zyyx:function(t){return y.get(t[2],t[1],t[1],t[0])},get_zyyy:function(t){return y.get(t[2],t[1],t[1],t[1])},get_zyyz:function(t){return y.get(t[2],t[1],t[1],t[2])},get_zyzx:function(t){return y.get(t[2],t[1],t[2],t[0])},get_zyzy:function(t){return y.get(t[2],t[1],t[2],t[1])},get_zyzz:function(t){return y.get(t[2],t[1],t[2],t[2])},get_zzxx:function(t){return y.get(t[2],t[2],t[0],t[0])},get_zzxy:function(t){return y.get(t[2],t[2],t[0],t[1])},get_zzxz:function(t){return y.get(t[2],t[2],t[0],t[2])},get_zzyx:function(t){return y.get(t[2],t[2],t[1],t[0])},get_zzyy:function(t){return y.get(t[2],t[2],t[1],t[1])},get_zzyz:function(t){return y.get(t[2],t[2],t[1],t[2])},get_zzzx:function(t){return y.get(t[2],t[2],t[2],t[0])},get_zzzy:function(t){return y.get(t[2],t[2],t[2],t[1])},get_zzzz:function(t){return y.get(t[2],t[2],t[2],t[2])}};"undefined"!=typeof performance&&"function"==typeof performance.now&&(e.now=performance.now.bind(performance)),String.__name__=!0,Array.__name__=!0,Date.__name__="Date",a.__toStr={}.toString,o.audio=[],o.audio_divs=[],o.timer_default=25,o.last=0,o.gradients=["linear-gradient(8deg, #1CB5E0 0%, #000851 100%)","linear-gradient(8deg, #9ebd13 0%, #008552 100%)","linear-gradient(8deg, #d53369 0%, #daae51 100%)","linear-gradient(8deg, #0700b8 0%, #00ff88 100%)"],l.last=0,y.epsilon=1e-8,y.pool=[],x.RED=x.from_array_int([1,0,0,1]),x.YELLOW=x.from_array_int([1,1,0,1]),x.GREEN=x.from_array_int([0,1,0,1]),x.CYAN=x.from_array_int([0,1,1,1]),x.BLUE=x.from_array_int([0,0,1,1]),x.MAGENTA=x.from_array_int([1,0,1,1]),x.WHITE=x.from_array_int([1,1,1,1]),x.BLACK=x.from_array_int([0,0,0,1]),x.TRANSPARENT=x.from_array_int([1,1,1,0]),x.GREY=x.from_array_float([.5,.5,.5,1]),x.PICO_8_BLACK=x.from_array_int([0,0,0,1]),x.PICO_8_DARK_BLUE=x.from_array_float([.11372549019607843,.16862745098039217,.3254901960784314,1]),x.PICO_8_DARK_PURPLE=x.from_array_float([.49411764705882355,.1450980392156863,.3254901960784314,1]),x.PICO_8_DARK_GREEN=x.from_array_float([0,.5294117647058824,.3176470588235294,1]),x.PICO_8_BROWN=x.from_array_float([.6705882352941176,.3215686274509804,.21176470588235294,1]),x.PICO_8_DARK_GREY=x.from_array_float([.37254901960784315,.3411764705882353,.30980392156862746,1]),x.PICO_8_LIGHT_GREY=x.from_array_float([.7607843137254902,.7647058823529411,.7803921568627451,1]),x.PICO_8_WHITE=x.from_array_float([1,.9450980392156862,.9098039215686274,1]),x.PICO_8_RED=x.from_array_float([1,0,.30196078431372547,1]),x.PICO_8_ORANGE=x.from_array_float([1,.6392156862745098,0,1]),x.PICO_8_YELLOW=x.from_array_float([1,.9254901960784314,.15294117647058825,1]),x.PICO_8_GREEN=x.from_array_float([0,.8941176470588236,.21176470588235294,1]),x.PICO_8_BLUE=x.from_array_float([.1607843137254902,.6784313725490196,1,1]),x.PICO_8_INDIGO=x.from_array_float([.5137254901960784,.4627450980392157,.611764705882353,1]),x.PICO_8_PINK=x.from_array_float([1,.4666666666666667,.6588235294117647,1]),x.PICO_8_PEACH=x.from_array_float([1,.8,.6666666666666666,1]),x.PALETTE=new u,x.epsilon=1e-8,x.pool=[],z.listeners=new u,z.active_map=new u,s.pool=[],w.timers=[],w.pool=[],w.epsilon=1e-8,b.UP=b.from_array_int([0,-1]),b.DOWN=b.from_array_int([0,1]),b.LEFT=b.from_array_int([-1,0]),b.RIGHT=b.from_array_int([1,0]),b.epsilon=1e-8,b.pool=[],m.epsilon=1e-8,m.pool=[],o.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this);